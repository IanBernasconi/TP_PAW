<div *ngIf="images && images.length > 0">
  <mat-grid-list *ngIf="images.length < 3" [cols]="images.length" rowHeight="500px" ratio="4:3" gutterSize="20px">
    <mat-grid-tile *ngFor="let image of images">
      <img class="preview" [src]="image" alt="Image" style="width: 100%" data-bs-toggle="modal"
        data-bs-target="#imagesModal" />
    </mat-grid-tile>
  </mat-grid-list>

  <mat-grid-list *ngIf="images.length == 3 || images.length == 4" [cols]="3" rowHeight="500px" ratio="4:3"
    gutterSize="10px">
    <mat-grid-tile *ngFor="let image of images.slice(0, 3)">
      <img class="preview" [src]="image" alt="Image" style="width: 100%" data-bs-toggle="modal"
        data-bs-target="#imagesModal" />
    </mat-grid-tile>
    <button *ngIf="images.length == 4" class="btn btn-light more-images-btn" type="button" data-bs-toggle="modal"
      data-bs-target="#imagesModal">
      <img src="assets/images/more-images-icon.svg" alt="More Images" />
      <span i18n>See all images</span>
    </button>
  </mat-grid-list>

  <mat-grid-list *ngIf="images.length > 4" [cols]="4" rowHeight="250px" ratio="4:3" gutterSize="10px">
    <mat-grid-tile *ngFor="let image of images.slice(0, 5); index as i" [colspan]="i == 0 ? 2 : 1"
      [rowspan]="i == 0 ? 2 : 1">
      <img class="preview" [src]="image" alt="Image" style="width: 100%" data-bs-toggle="modal"
        data-bs-target="#imagesModal" />
    </mat-grid-tile>
    <button *ngIf="images.length > 5" class="btn btn-light more-images-btn" type="button" data-bs-toggle="modal"
      data-bs-target="#imagesModal">
      <img src="assets/images/more-images-icon.svg" alt="More Images" />
      <span i18n>See all images</span>
    </button>
  </mat-grid-list>
</div>

<div class="modal fade" id="imagesModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-header-inner">
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
      </div>
      <div class="modal-body all-images-container">
        <div class="all-images">
          <ng-container *ngFor="let image of images; index as i">
            <div *ngIf="i % 3 == 0 || (i == images.length - 1 && i % 3 != 2)" class="img-container">
              <img [src]="image" alt="Image" />
            </div>
            <div *ngIf="i % 3 == 1" class="img-container">
              <div class="dual-image-container">
                <img [src]="image" alt="Image" />
              </div>
              <div class="dual-image-container">
                <img [src]="images[i + 1]" alt="Image" />
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>